{"ast":null,"code":"var _jsxFileName = \"H:\\\\recent react projects\\\\project-2\\\\CO3302-PROJECT\\\\admin\\\\src\\\\pages\\\\cancel\\\\Cancel.jsx\",\n    _s = $RefreshSig$();\n\nimport \"./Cancel.scss\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport Navbar from \"../../components/navbar/Navbar\";\nimport Datatable from \"../../components/datatable/Datatable\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Cancel = () => {\n  _s();\n\n  const [id, setId] = useState(null);\n  const [filter, setFilter] = useState(null);\n\n  const all = async () => {\n    const res = await axios.get(\"/cancel/getall\");\n    const getAll = await axios.get(\"/cancel/getallreservations\");\n    console.log(getAll.data);\n    setFilter(getAll.data);\n    const data = res.data;\n    setId(res.data); //map data\n\n    const mapped = data.map(item => {\n      return {\n        // id: item._id,\n        cancelID: item.cancelID\n      };\n    }); // console.log(\"filter\",mapped)\n  };\n\n  console.log(id);\n\n  const remove = id => {\n    console.log(\"remove id\", id);\n    axios.delete(`/cancel/delete/${id}`).then(res => {\n      console.log(\"deleted\", res);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"list\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"listContainer\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          onClick: all,\n          children: \"Reservation Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), filter ? filter.map(_ref => {\n          let {\n            _id,\n            name,\n            startDate,\n            endDate,\n            destination,\n            noOfRooms,\n            adults,\n            child,\n            amount\n          } = _ref;\n          return /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"Hotel Name : \", name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this), \"Reservation Id : \", _id, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this), \"Start Date: \", startDate, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this), \"End Date: \", endDate, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this), \"Destination :\", destination, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this), \"Number Of Rooms : \", noOfRooms, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this), \"Number Of Adults : \", adults, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this), \"Number Of Children : \", child, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this), \"Amount : \", amount, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 40\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this)]\n          }, _id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this);\n        }) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: id ? id.map(_ref2 => {\n        let {\n          _id,\n          cancelId\n        } = _ref2;\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this), \"Reservation Id : \", cancelId, /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this)]\n        }, _id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this);\n      }) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Cancel, \"ZGFrH9YHUP2UpvqbRVvjIGINYY4=\");\n\n_c = Cancel;\nexport default Cancel;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cancel\");","map":{"version":3,"sources":["H:/recent react projects/project-2/CO3302-PROJECT/admin/src/pages/cancel/Cancel.jsx"],"names":["Sidebar","Navbar","Datatable","React","useState","axios","Cancel","id","setId","filter","setFilter","all","res","get","getAll","console","log","data","mapped","map","item","cancelID","remove","delete","then","_id","name","startDate","endDate","destination","noOfRooms","adults","child","amount","cancelId"],"mappings":"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","sourcesContent":["import \"./Cancel.scss\"\r\nimport Sidebar from \"../../components/sidebar/Sidebar\"\r\nimport Navbar from \"../../components/navbar/Navbar\"\r\nimport Datatable from \"../../components/datatable/Datatable\"\r\nimport React,{useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nconst Cancel = () => {\r\n  const [id, setId] = useState(null)\r\n  const [filter, setFilter] = useState(null)\r\n  \r\n  const all = async () => {\r\n    const res = await axios.get(\"/cancel/getall\")\r\n    const getAll = await axios.get(\"/cancel/getallreservations\")\r\n    console.log(getAll.data)\r\n    setFilter(getAll.data)\r\n  const data = res.data\r\n    setId(res.data)\r\n    \r\n    //map data\r\n    const mapped = data.map((item) => {\r\n      return {\r\n        // id: item._id,\r\n        cancelID : item.cancelID,\r\n      }\r\n    })\r\n\r\n    // console.log(\"filter\",mapped)\r\n}\r\n\r\n  console.log(id)\r\n\r\n  const remove = (id) => {\r\n    console.log(\"remove id\",id)\r\n    axios.delete(`/cancel/delete/${id}`)\r\n    .then(res => {\r\n      console.log(\"deleted\",res)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"list\">\r\n      <Sidebar />\r\n  \r\n      <div className=\"listContainer\">\r\n        <Navbar />\r\n        {/* <button style={{ width: \"150px\",  marginLeft:\"100px\"}} onClick={all}>Refresh</button> */}\r\n       <div>\r\n            <h3 onClick={all}>Reservation Details</h3>\r\n            {filter? filter.map(({_id,name,startDate,endDate,destination,noOfRooms,adults,child,amount }) => (\r\n              <p key={_id}> <h4>Hotel Name : {name}</h4>\r\n                <br />Reservation Id : { _id}\r\n                <br />Start Date: {startDate}\r\n                <br />End Date: {endDate}\r\n                <br />Destination :{destination}\r\n                <br />Number Of Rooms : {noOfRooms}\r\n                <br />Number Of Adults : {adults}\r\n                <br />Number Of Children : {child}\r\n                <br />Amount : {amount}<br />\r\n                <button >Cancel</button>\r\n                <hr/>\r\n              </p>\r\n          \r\n            )): null}\r\n          </div>\r\n      </div>\r\n      <div>\r\n\r\n        {id ? id.map(({ _id, cancelId }) => (\r\n          <p  key={_id}> \r\n              <br />Reservation Id : {cancelId}\r\n              {/* <button  onClick={remove(cancelId)}>Delete</button> */}\r\n                <hr/>\r\n          </p>\r\n\r\n\r\n        )) : null}\r\n      </div>\r\n\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Cancel;\r\n"]},"metadata":{},"sourceType":"module"}